---
title: linux从入门到放弃——05隐私安全和群组功能
date: 2017-8-10 15:18:43
categories: Linux
comments: true
---

# linux从入门到放弃——05隐私安全和群组功能

这一次讲一下权限的问题，还有群组的功能。无论是在linux还是在windows中，我们都有以个叫做权限的东西，比如说你如果是管理员，就拥有管理员的权限，那么这个管理员的权限又是有什么呢？在linux中，对于任何一个文件，最多被定义为几种权限，r（可读）、w（可写）、x（可执行）、-（无权限），当然你也可以说它还拥有不可读的权限，这个其实就是无权限。我们都知道当我们在windows下查看文件的属性时候，可以设置属性为只读或者隐藏，甚至有高级选项。这是在图形界面下操作，那么在linux中又是如何更改权限的呢。首先我们要知道在linux使用八进制数字4、2、1、0分别表示r（可读）、w（可写）、x（可执行）、-（无权限），这样我们就可以表示任何一个用户所拥有的权限了，比如说：只可读（4），只可写（1），可读可写（5）。你可能知道规律了，就是进行数字的加法表示。因为每一种权限都有自己独立的八进制数字。
然后我们现在在终端下，输入"ls -l"命令。这个时候你显然看到了前面出现了类似的详细显示

```
lrwxrwxrwx 1 SnowHotarubi 197609      65 Aug 19 01:06  Templates -> /home/Templates/
drwxr-xr-x 1 SnowHotarubi 197609       0 Aug 19 01:06  Videos/
drwxr-xr-x 1 SnowHotarubi 197609       0 Aug 23 23:31  WebstormProjects/
drwxr-xr-x 1 SnowHotarubi 197609       0 Aug 22 20:33  Workspaces/
-rw-r--r-- 1 SnowHotarubi 197609     826 Aug 19 07:13  _viminfo
drwxr-xr-x 1 SnowHotarubi 197609       0 Aug 23 19:39  eclipse/
```
首先我们来分析一下，看第一个"lrwxrwxrwx",欸，怎么会出现这么多个？第一个l其实表示的link链接的意思，你可以看到后面有个箭头的东西，这个就相当于我们windows下的快捷方式。然后你会看到有"-"和"d"开头的，这里的d就是direcroty目录文件的意思，而-代表的是文件。后面的符号我们数一下可以发现是正好9个。在linux中有一个群组的概念，分为User，Group，Other。这里的UGO分别表示用户、所在组、和其他组用户对该文件的访问权限。所以就不难理解为什么是9个符号。rwx三个符号就可以表示一个用户拥有了所有权限。比如我们读一下"drwxr-xr-x",这一句就是说：创建的用户对其用于可读可写可执行的权限，而所在组，即创建用户属于的那个组，就好比小明在一班，而这个一班对该文件用于的权限是"r-x"，可读和可执行。而其他组，其他班级，对该文件也是拥有可读和可执行的权限。后面我们还可以看到文件的创建者，文件大小，修改日期这些。在这里如果是绿色的一般就是可执行文件，蓝色为目录，白色的是一般文件。上面看到了用显示的时候是通过"drwxr-xr-x"这种展示给我们，如果我们修改权限的时候也这样就太麻烦，所以在linux直接用数字代替表示了。ch就是change的意思，chgrp命令就是修改文件所在的组，而chonw就是更改所属者，chmod命令就是用来修改文件的权限。例如下面：
```
chgrp: change group /etc/group
chonw: change owner /etc/passwd
chmod : r(read) 2^2 = 4
	   W(write) 2^1 = 2
	   x(excure)2^0 = 1
	   -  0
rwx = 7
rw- = 6
r-x = 5
r-- = 4
例如：
chgrp root testGroup
chonw root test
chmod 755 test
chmod go-w test   
chmod +x test  
```
通过上面的方法，我们就可以修改一些文件权限了，而不用压缩加密。我们接着说群组功能，我们说过，在linux中有组这个概念，分别会有不同的权限。比如root组就是最大佬级别的，这个时候如果别人想用我们电脑，但是一些东西我们不想给ta看，我们通常会再建立一个普通用户给ta用。不过在windows中我们大多是建立一个管理员或者本地用户登陆，如果创建了一个普通用户，但是其实当登陆之后我们其实可以随便操作，文件也随便看，这很不安全。而linux不会这样，你如果是普通用户，你就悲催了，你很多东西用不了，修改一个基本的设置甚至都不可以，在终端里，如果没有root权限你都不能使用关机命令（shutdown），想想，如果开机的时候没有图形界面，只有一个黑框框终端，而你只有普通用户身份登陆，你都不能关机，就只能这看看那看看。说到这里，在linux有个命令级别，在/etc/inittab文件中，我们可以看到当启动的时候分为七个命令级别，通常我们用的是3、5，而5是带图形界面的，而3不带图形界面。因为图形界面很消耗内存和CPU，所以如果你是做服务器就没有必要用图形界面了。有个系统密码破解的方法，我之前试了一下并不理想。
步骤：
1、重启Linux，鼠标单击启动界面，按键盘上下键使启动界面暂停
2、按键盘E键，光标往下选中kernel这行，再次按E键
3、按空格键，然后在后面添加数字1，回车
4、按B键启动系统
5、在命令行输入 #passwd,回车，输入两遍新密码
6、在命令行输入 #init 5
就是这样，不会要求你输入原密码。所以从上面我们知道了linux是真的安全。而且linux是支持多用户多线程的，这意味着什么，在远处的一台服务器，好几个人(目前6个左右）可以通过账号远程登陆到服务器，然后同时进行操作。一般windows上我们就只能一个人使用，下一个人想用就只有等着。说起这个，linux有个叫做inode的概念，当你使用"stat 文件"命令就可以看到有个叫做inode的，linux中其实分为两个区，一个inode区，一个数据区。每一个文件都会对应一个inode，而且是不会改变的。所以当我们正在编辑一个文件的时候，其实还可以修改文件的名称，因为这个inode是不会变的吗，而在windows下就会报错。而如果linux下的inode用完的话，这时候如果即使你的数据区还有空间你也存不了东西，但是事实上好像并不会说inode用完的情况。当我们用stat查看文件信息的时候，还能看到其他信息，例如:文件创建者，文件所在组，大小，最后修改日期等。
补充：linux中inode是唯一的标识符，而不是文件。所以这里有软链接和硬链接的说法。如果是硬链接就是共享同一个inode。当我们访问文件的过程其实是这样的：
```
filename——>inode——>data blocks
```
嗯，先写这么多。感谢大家的阅读！下一次讲一下解压缩，这个还是蛮重要的，因为如果我们传一个东西，如果你压缩之后再传，可能就会小很多。好了，下期见。




